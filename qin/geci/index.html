
<!doctype html>
<html>
<head>
<meta charset=utf-8>
<title>jplayer实现歌词同步的JS音乐播放器效果</title>
<meta http-equiv="Cache-Control" content="no-cache">
<meta name="viewport" content="width=device-width; initial-scale=1.0; minimum-scale=1.0; maximum-scale=1.4">
<meta name="MobileOptimized" content="240">

<link href="./js/css.css" rel="stylesheet" type="text/css" />

<script type="text/javascript" src="./js/jquery.js"></script>
<script type="text/javascript" src="./js/jquery.jplayer.js"></script>
<script type="text/javascript" src="./js/lrc.js"></script>

<style type="text/css">
* {
	margin: 0;
	padding: 0;
	outline:none;
}
ul, ol, dl {
	list-style: none;
}

.music_box{margin:50px auto;width:422px;}
.content {width: 402px;height:200px;overflow:hidden;padding:10px;background:#ccc;}
#lrc_list{margin:10px auto;background:#ccc;}
#lrc_list li{font:normal 14px/2.1 'microsoft yahei';text-align:center;}
#lrc_list li.hover {color:red;font-weight:bold;}
</style>

<script>
//<![CDATA[
$(document).ready(function(){
	$("#jquery_jplayer_1").jPlayer({
		ready: function (event) {
			$(this).jPlayer("setMedia", {
				mp3:"夜曲.mp3" //mp3的播放地址
			});
		},
		timeupdate: function(event) {
			if(event.jPlayer.status.currentTime==0){
				time = "";
			}else {
				time = event.jPlayer.status.currentTime;
			}
		},
		play: function(event) {
			//点击开始方法调用lrc。start歌词方法 返回时间time
			$.lrc.start($('#lrc_content').val(), function() {
				return time;
			});
		},
		ended:function(event){
			$("#lrc_list").removeAttr("style").html("<li>歌曲播放完毕！</li>");
		},
		swfPath: "/js",  		//存放jplayer.swf的决定路径
		solution:"html, flash", //支持的页面
		supplied: "mp3",		//支持的音频的格式
		wmode: "window"
	});
});
//]]>
</script>
</head>
<body>
<textarea id="lrc_content" name="textfield" cols="70" rows="10" style="display:none;"> 
[ti:夜曲]
[ar:周杰伦]
[al:十一月的萧邦]
[03:42.16][01:52.36][00:00.99]
[02:00.71][00:07.95]制作：阿土
[00:16.10]music
[00:11.92]词：方文山 曲：周杰伦
[03:20.18][00:24.07]一群嗜血的蚂蚁 被腐肉所吸引
[03:23.63][00:27.48]我面无表情 看孤独的风景
[03:26.57][00:30.40]失去你 爱恨开始分明
[03:29.26][00:32.89]失去你 还有什麼事好关心
[03:32.04][00:35.83]当鸽子不再象徵和平
[03:34.26][00:37.74]我终於被提醒
[03:35.41][00:39.20]广场上餵食的是秃鹰
[03:37.60][00:41.35]我用漂亮的押韵
[03:38.91][00:42.64]形容被掠夺一空的爱情
[00:45.87]啊 乌云开始遮蔽 夜色不乾净
[00:49.27]公园里 葬礼的回音 在漫天飞行
[00:51.92]送你的 白色玫瑰
[00:53.43]在纯黑的环境凋零
[00:55.03]乌鸦在树枝上诡异的很安静
[00:57.55]静静听 我黑色的大衣
[00:59.81]想温暖你 日渐冰冷的回忆
[01:01.86]走过的 走过的 生命
[01:03.25]啊 四周弥漫雾气
[01:04.60]我在空旷的墓地
[01:05.97]老去後还爱你
[01:08.20]为你弹奏萧邦的夜曲
[01:11.14]纪念我死去的爱情
[01:13.99]跟夜风一样的声音
[01:16.76]心碎的很好听
[01:19.65]手在键盘敲很轻
[01:22.28]我给的思念很小心
[01:25.13]你埋葬的地方叫幽冥
[01:29.14]为你弹奏萧邦的夜曲
[01:33.37]纪念我死去的爱情
[01:36.14]而我为你隐姓埋名
[01:39.12]在月光下弹琴
[01:41.62]对你心跳的感应
[01:44.33]还是如此温热亲近
[01:46.93]怀念你那鲜红的唇印
[02:13.89]那些断翅的蜻蜓 散落在这森林
[02:17.46]而我的眼睛 没有丝毫同情
[02:20.35]失去你 泪水混浊不清
[02:22.90]失去你 我连笑容都有阴影
[02:25.80]风在长满青苔的屋顶
[02:27.74]嘲笑我的伤心
[02:29.36]像一口没有水的枯井
[02:31.34]我用凄美的字型
[02:32.74]描绘後悔莫及的那爱情
[02:36.17]为你弹奏萧邦的夜曲
[02:39.45]纪念我死去的爱情
[02:42.11]跟夜风一样的声音
[02:44.89]心碎的很好听
[02:47.72]手在键盘敲很轻
[02:50.72]我给的思念很小心
[02:53.18]你埋葬的地方叫幽冥
[02:57.07]为你弹奏萧邦的夜曲
[03:01.41]纪念我死去的爱情
[03:04.22]而我为你隐姓埋名 在月光下弹琴
[03:09.76]对你心跳的感应 还是如此温热亲近
[03:15.14]怀念你那鲜红的唇印
</textarea>
<div class="music_box">
<div id="jquery_jplayer_1" class="jp-jplayer"></div>
<div id="jp_container_1" class="jp-audio">
  <div class="jp-type-single">
    <div class="jp-gui jp-interface">
      <ul class="jp-controls">
        <li><a href="javascript:;" class="jp-play" tabindex="1">play</a></li>
        <li><a href="javascript:;" class="jp-pause" tabindex="1">pause</a></li>
        <li><a href="javascript:;" class="jp-stop" tabindex="1">stop</a></li>
        <li><a href="javascript:;" class="jp-mute" tabindex="1" title="mute">mute</a></li>
        <li><a href="javascript:;" class="jp-unmute" tabindex="1" title="unmute">unmute</a></li>
        <li><a href="javascript:;" class="jp-volume-max" tabindex="1" title="max volume">max volume</a></li>
      </ul>
      <div class="jp-progress">
        <div class="jp-seek-bar">
          <div class="jp-play-bar"></div>
        </div>
      </div>
      <div class="jp-volume-bar">
        <div class="jp-volume-bar-value"></div>
      </div>
      <div class="jp-time-holder">
        <div class="jp-current-time"></div>
        <div class="jp-duration"></div>
        <ul class="jp-toggles">
          <li><a href="javascript:;" class="jp-repeat" tabindex="1" title="repeat">repeat</a></li>
          <li><a href="javascript:;" class="jp-repeat-off" tabindex="1" title="repeat off">repeat off</a></li>
        </ul>
      </div>
    </div>
    <div class="jp-title">
      <ul>
        <li>jq22.com</li>
      </ul>
    </div>
    <div class="jp-no-solution"> <span>Update Required</span> To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>. </div>
  </div>
</div>
<div class="content">
    <ul id="lrc_list">
    	<li>点击开始播放……</li>
    </ul>
</div>
</div>

</body>
</html>